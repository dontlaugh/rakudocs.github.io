<!doctype html>
<html lang="en">
    <head>
        <title>routine categorize</title>
        <meta charset="UTF-8" />
        <style>
        kbd { font-family: "Droid Sans Mono", "Luxi Mono", "Inconsolata", monospace }
        samp { font-family: "Terminus", "Courier", "Lucida Console", monospace }
        u { text-decoration: none }
        .nested {
            margin-left: 3em;
        }
        aside, u { opacity: 0.7 }
        a[id^="fn-"]:target { background: #ff0 }
        </style>
        
        
        <meta name=viewport content="width=device-width, initial-scale=1">
<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href="/css/app.css?v=7" media="screen" title="default" />
<noscript> <style> #search { visibility: hidden; } </style> </noscript>

    </head>
    <body class="pod">
    <div id="___top"></div>
    <div id="header" class="pretty-box green">
  <a href="/"
    ><img
      src="/images/Camelia.svg"
      alt="»ö«"
      id="logo"
      width="62"
      height="48"
    />&nbsp;Perl 6 Documentation</a
  >
  <div id="search" class="ui-widget">
    <div class="green">
      <input
        placeholder="Loading..."
        id="query"
        accesskey="f"
        title="Enter term to search for (hit Esc to focus)"
      />
    </div>
    <p id="not-found-message">
      Not in Index (<a href="" id="try-web-search">try site search</a>)
    </p>
  </div>
  <div class="menu">
    <div class="menu-items dark-green"><a class='menu-item darker-green' href='https://perl6.org'><strong>Perl&nbsp;6 homepage</strong></a>  <a class="menu-item " href="/language.html"> Language </a> <a class="menu-item " href="/type.html"> Types </a> <a class="menu-item selected darker-green" href="/routine.html"> Routines </a> <a class="menu-item " href="/programs.html"> Programs </a> <a class="menu-item " href="https://webchat.freenode.net/?channels=#perl6"> Chat with us </a></div><div class="menu-items darker-green"><a class="menu-item" href="/routine.html">All</a><a class="menu-item" href="/routine-sub.html"> Sub </a> <a class="menu-item" href="/routine-method.html"> Method </a> <a class="menu-item" href="/routine-term.html"> Term </a> <a class="menu-item" href="/routine-operator.html"> Operator </a> <a class="menu-item" href="/routine-trait.html"> Trait </a> <a class="menu-item" href="/routine-submethod.html"> Submethod </a> </div>
  </div>
</div>
<div id="content" class="pretty-box yellow content_fragment">
  

    <h1 class='title'>routine categorize</h1>
    
    <nav class="indexgroup">
<table id="TOC">
<caption><h2 id="TOC_Title">Table of Contents</h2></caption>
    <tr class="toc-level-1"><td class="toc-number">1</td><td class="toc-text"><a href="#class_Any">class Any</a></td></tr>
   <tr class="toc-level-2"><td class="toc-number">1.1</td><td class="toc-text"><a href="#(Any)_method_categorize">(Any) method categorize</a></td></tr>
                                                               <tr class="toc-level-1"><td class="toc-number">2</td><td class="toc-text"><a href="#class_List">class List</a></td></tr>
   <tr class="toc-level-2"><td class="toc-number">2.1</td><td class="toc-text"><a href="#(List)_routine_categorize">(List) routine categorize</a></td></tr>
                   
</table>
</nav>

    <div class="pod-body">
    <p>Documentation for routine <code>categorize</code> assembled from the following types:</p>
<h1 id="class_Any"><a class="u" href="#___top" title="go to top of document">class Any</a></h1>
<p>From <a href="/type/Any#method_categorize">Any</a></p>
<h2 id="(Any)_method_categorize"><a href="/type/Any#method_categorize">(Any) method categorize</a></h2>
<p>Defined as:</p>
<pre class="pod-block-code">multi method categorize()
multi method categorize(Whatever)
multi method categorize($test, :$into!, :&amp;as)
multi method categorize($test, :&amp;as)
multi sub categorize($test, +items, :$into!, *%named )
multi sub categorize($test, +items, *%named )</pre>
<p>The two first forms fail with an error message.</p>
<p>In its simplest form, it uses a <code>$test</code> whose result will be used as a key; the values of the key will be an array of the elements that produced that key as a result of the test.</p>
<pre class="pod-block-code">say (1..13).categorize( * %% 3);
say categorize( * %% 3, 1..13)
# OUTPUT: «{False =&gt; [1 2 4 5 7 8 10 11 13], True =&gt; [3 6 9 12]}␤»
</pre>
<p>The <code>:as</code> argument will normalize before categorizing</p>
<pre class="pod-block-code">say categorize( * %% 3, -5..5, as =&gt; &amp;abs )
# OUTPUT: «{False =&gt; [5 4 2 1 1 2 4 5], True =&gt; [3 0 3]}␤»
</pre>
<p>The <code>$into</code> associative argument can be used to put the result instead of returning a new <code>Hash</code></p>
<pre class="pod-block-code">my %leap-years;
my @years = (2002..2009).map( { Date.new( $_~&quot;-01-01&quot; ) } );
@years.categorize( *.is-leap-year , into =&gt; %leap-years );
say %leap-years
# OUTPUT:
# «{ False
# =&gt; [2002-01-01 2003-01-01 2005-01-01 2006-01-01 2007-01-01 2009-01-01],
#    True =&gt; [2004-01-01 2008-01-01]}␤»
</pre>
<p>The function used to categorize can return an array indicating all possible bins their argument can be put into:</p>
<pre class="pod-block-code">sub divisible-by( Int $n --&gt; Array(Seq) ) {
    gather {
        for &lt;2 3 5 7&gt; {
            take $_ if $n %% $_;
        }
    }
}

say (3..13).categorize( &amp;divisible-by );
# OUTPUT:
# «{2 =&gt; [4 6 8 10 12], 3 =&gt; [3 6 9 12], 5 =&gt; [5 10], 7 =&gt; [7]}␤»
</pre>
<p>In this case, every number in the range is classified in as many bins as it can be divided by.</p>
<h1 id="class_List"><a class="u" href="#___top" title="go to top of document">class List</a></h1>
<p>From <a href="/type/List#routine_categorize">List</a></p>
<h2 id="(List)_routine_categorize"><a href="/type/List#routine_categorize">(List) routine categorize</a></h2>
<p>Defined as:</p>
<pre class="pod-block-code">multi method categorize()
multi method categorize(Whatever)
multi method categorize($test, :$into!, :&amp;as)
multi method categorize($test, :&amp;as)
multi sub categorize($test, +items, :$into!, *%named )
multi sub categorize($test, +items, *%named )</pre>
<p>These methods are directly inherited from <code>Any</code>; see <a href="/routine/categorize#(Any)_method_categorize"><code>Any.list</code></a> for more examples.</p>
<p>This routine transforms a list of values into a hash representing the categorizations of those values according to <code>$test</code>, which is called once for every element in the list; each hash key represents one possible categorization for one or more of the incoming list values, and the corresponding hash value contains an array of those list values categorized by the <code>$test</code>, acting like a mapper, into the category of the associated key.</p>
<p>Note that, unlike <a href="/routine/classify">classify</a>, which assumes that the return value of the mapper is a single value, <code>categorize</code> always assumes that the return value of the mapper is a list of categories that are appropriate to the current value.</p>
<p>Example:</p>
<pre class="pod-block-code">sub mapper(Int $i) returns List {
    $i %% 2 ?? &#39;even&#39; !! &#39;odd&#39;,
    $i.is-prime ?? &#39;prime&#39; !! &#39;not prime&#39;
}
say categorize &amp;mapper, (1, 7, 6, 3, 2);  # OUTPUT: «{even =&gt; [6 2], not prime =&gt; [1 6],
                                          #          odd =&gt; [1 7 3], prime =&gt; [7 3 2]}␤»</pre>

    </div>
    
    </div>
<footer class="pretty-box yellow">
    <p>This is a work in progress to document Perl 6, and known to be
        incomplete.</p>
     <p><a href="https://github.com/perl6/doc/blob/master/CONTRIBUTING.md#reporting-bugs">Please report any issues</a>
      Your contribution is appreciated.</p>
  <p>
      This documentation is provided under the terms of the
      <a href="https://raw.githubusercontent.com/perl6/doc/master/LICENSE">Artistic License 2.0</a>.
      The Camelia image is <a href="https://raw.githubusercontent.com/perl6/mu/master/misc/camelia.txt"
        >copyright © 2009 by Larry Wall.</a>
      <!-- CREDITS -->
      <!--External Link Image by Zapyon, CCA-SA 4.0. Derived from Wikimedia Foundation https://commons.wikimedia.org/wiki/File:External-link-04-bold-12x12.svg -->

  </p>
</footer>

<script type="text/javascript" src="/js/app.js?v=1"></script>
<script type="text/javascript" src="/js/search.js?v=3"></script>
    </body>
</html>
